### 3.3 射影空間與齊次坐標

射影空間是幾何學中的一個重要概念，它是對歐氏空間的一種擴展，可以用來處理無窮遠點以及更一般的變換。在射影幾何中，對象的表示不再僅僅是歐氏空間中的點，而是包含無窮遠的點集。這使得射影空間成為一個更加通用的描述工具，適用於描述視角、投影和變換等現象。

#### 射影坐標系

射影空間是歐氏空間的擴展，在其上，每個點都由齊次坐標來表示。齊次坐標系不僅能表示歐氏空間中的普通點，還可以表示「無窮遠點」，這是傳統歐氏坐標系無法處理的。

1. **定義：** 射影空間中的點使用齊次坐標來表示。對於三維歐氏空間中的一個點 \( P(x, y, z) \)，在射影空間中，這個點的齊次坐標為 \( (x, y, z, w) \)，其中 \( w \) 是一個縮放因子。這意味著 \( (x, y, z, w) \) 和 \( (\lambda x, \lambda y, \lambda z, \lambda w) \) 表示的是同一個點，對於任意的非零常數 \( \lambda \)。

2. **坐標轉換：** 在射影空間中，將歐氏坐標 \( (x, y, z) \) 轉換為齊次坐標的過程是通過添加一個額外的坐標 \( w \) 來實現的：
   \[
   (x, y, z) \rightarrow (x, y, z, 1)
   \]
   同樣，對於無窮遠的點，其齊次坐標的最後一個分量 \( w \) 可以設為零，即 \( (x, y, z, 0) \)，表示位於無窮遠的點。

3. **無窮遠點：** 在射影空間中，無窮遠的概念不再是「無窮遠」的抽象，而是具體的，通過齊次坐標表示為 \( (x, y, z, 0) \) 的點。這些點通常用來描述視覺中的平行線交點，或是投影中的遠處對象。

#### 射影變換矩陣

射影變換是將點映射到射影空間中的過程，通常由一個射影變換矩陣來描述。這些變換包括平移、旋轉、縮放和投影等操作。射影變換不僅包括線性變換，還包括一些非線性變換，如投影操作。

1. **射影變換的一般形式：** 射影變換可以用齊次坐標系來表示，這樣一個射影變換可以通過一個 \( 4 \times 4 \) 的矩陣來表示。假設 \( \mathbf{P} = (x, y, z, w)^T \) 是射影空間中的點，則射影變換可以表示為：
   \[
   \mathbf{P}' = M \cdot \mathbf{P}
   \]
   其中 \( M \) 是一個 \( 4 \times 4 \) 的射影變換矩陣，對應於不同的幾何變換。

2. **簡單變換矩陣：** 
   - **平移變換：** 射影平移可以表示為以下形式：
     \[
     M_{\text{translate}} = \begin{pmatrix} 
     1 & 0 & 0 & t_x \\
     0 & 1 & 0 & t_y \\
     0 & 0 & 1 & t_z \\
     0 & 0 & 0 & 1 
     \end{pmatrix}
     \]
     其中 \( t_x, t_y, t_z \) 分別表示在 \( x, y, z \) 方向上的平移。

   - **縮放變換：** 射影縮放操作可以用以下矩陣表示：
     \[
     M_{\text{scale}} = \begin{pmatrix} 
     s_x & 0 & 0 & 0 \\
     0 & s_y & 0 & 0 \\
     0 & 0 & s_z & 0 \\
     0 & 0 & 0 & 1 
     \end{pmatrix}
     \]
     其中 \( s_x, s_y, s_z \) 分別表示在各個方向上的縮放因子。

   - **旋轉變換：** 旋轉操作可以用相應的旋轉矩陣來表示，這些矩陣是特殊的正交矩陣，類似於歐氏空間中的旋轉矩陣，但這些矩陣也需要適應齊次坐標系的結構。

3. **投影變換：** 投影變換將三維物體映射到二維平面，這是計算機圖形學和視覺學中的關鍵操作。投影矩陣通常可以表示為：
   \[
   M_{\text{projection}} = \begin{pmatrix} 
   \frac{f}{z} & 0 & 0 & 0 \\
   0 & \frac{f}{z} & 0 & 0 \\
   0 & 0 & 0 & 0 \\
   0 & 0 & 1 & 0 
   \end{pmatrix}
   \]
   其中 \( f \) 是焦距，\( z \) 是物體的深度，這個變換將三維世界中的點投影到二維圖像平面上。

#### 不變量理論

不變量理論是射影幾何中的一個重要工具，它描述了在射影變換下不變的幾何性質。這些不變量在不同的射影變換下保持不變，並且在理解物體在射影空間中的變化時提供了關鍵的信息。

1. **交比：** 交比（Cross Ratio）是射影幾何中的一個基本不變量，它描述了四個共線點之間的關係。給定四個共線點 \( A, B, C, D \)，它們的交比定義為：
   \[
   (A, B; C, D) = \frac{(C-A)(D-B)}{(C-B)(D-A)}
   \]
   交比是射影變換的不變量，這意味著即使對這四個點進行射影變換，交比仍然保持不變。交比理論廣泛應用於射影幾何、計算機視覺和計算幾何中。

2. **射影變換下的不變量：** 在射影幾何中，還有其他不變量，例如透視投影中的相對位置、不變的直線和圓的交點等，這些不變量幫助我們在射影空間中進行準確的分析和建模。

射影幾何和齊次坐標系的引入，使得幾何問題的處理更加靈活，能夠有效地描述無窮遠點及各種幾何變換。不變量理論進一步強化了這些幾何結構的穩定性，並為計算機圖形學、機器學習等領域的發展奠定了基礎。