好的，接下來我會在每個數學定義或定理之後，立刻用 Python 實作程式。

### 3.1 環的基礎理論

#### 1. 環的定義與性質

環是代數結構中的一個基本結構，配備了兩個運算：加法和乘法。環的加法結構是阿貝爾群，乘法則是半群。下面是環的定義和簡單的運算實現。

**定義**：
環 \( R \) 是一個集合，配備了兩個二元運算：加法（\( + \)）和乘法（\( \cdot \)），並滿足下列條件：
- \( (R, +) \) 是阿貝爾群，即加法滿足交換律、結合律，且存在加法單位元（0）；
- \( (R, \cdot) \) 是半群，即乘法滿足結合律；
- 乘法對加法有分配律。

我們來實現一個簡單的環結構，並進行加法和乘法運算。

```python
class Ring:
    def __init__(self, elements):
        self.elements = elements  # 環的元素
    
    def add(self, a, b):
        # 加法運算，對加法結果取模（此處以環的元素數量作為模）
        return (a + b) % len(self.elements)
    
    def multiply(self, a, b):
        # 乘法運算，對乘法結果取模
        return (a * b) % len(self.elements)

# 示例：定義環 Z_6，即元素為 0, 1, 2, 3, 4, 5
Z_6 = Ring([0, 1, 2, 3, 4, 5])

# 測試加法和乘法
print(f"Addition (4 + 3 mod 6): {Z_6.add(4, 3)}")  # (4 + 3) % 6 = 1
print(f"Multiplication (2 * 3 mod 6): {Z_6.multiply(2, 3)}")  # (2 * 3) % 6 = 0
```

#### 2. 理想與商環

**理想**是環的一個子集，滿足某些特殊條件。假設 \( R \) 是一個環，\( I \) 是其子集，若 \( I \) 服從以下條件，則 \( I \) 是一個理想：
- \( I \) 是 \( R \) 的加法子群；
- 對於所有的 \( r \in R \) 和 \( i \in I \)，有 \( r \cdot i \in I \)。

**商環** \( R/I \) 是將環 \( R \) 按照理想 \( I \) 進行劃分，簡單來說，就是將 \( R \) 中所有元素都當作 \( I \) 中的元素進行等價類劃分。

讓我們用 Python 定義一個簡單的理想和商環。

```python
class Ideal:
    def __init__(self, ring, ideal_elements):
        self.ring = ring  # 環
        self.ideal_elements = ideal_elements  # 理想元素
    
    def is_ideal(self, element):
        return element in self.ideal_elements  # 檢查元素是否在理想中

class QuotientRing:
    def __init__(self, ring, ideal):
        self.ring = ring
        self.ideal = ideal
    
    def add(self, a, b):
        # 商環加法
        return self.ring.add(a, b)
    
    def multiply(self, a, b):
        # 商環乘法
        return self.ring.multiply(a, b)

# 定義理想 I = {0, 3} 在 Z_6 中
ideal_I = Ideal(Z_6, [0, 3])

# 定義商環 Z_6 / I
quotient_ring = QuotientRing(Z_6, ideal_I)

# 測試商環加法和乘法
print(f"Quotient Ring Addition (4 + 3 mod 6): {quotient_ring.add(4, 3)}")
print(f"Quotient Ring Multiplication (2 * 3 mod 6): {quotient_ring.multiply(2, 3)}")
```

#### 3. 主理想環

**主理想環**是指一個環，其中的每個理想都可以由單個元素生成。具體地，對於任意的理想 \( I \subseteq R \)，存在某個元素 \( a \in R \)，使得：
\[
I = (a) = \{ r \cdot a \mid r \in R \}
\]

在這裡，我們將展示如何生成一個由單個元素生成的理想。

```python
def generate_ideal(a, ring_elements):
    # 生成由元素 a 生成的理想
    return [a * i % len(ring_elements) for i in range(len(ring_elements))]

# 在 Z_6 中，生成由 3 生成的理想
ideal_from_3 = generate_ideal(3, Z_6.elements)
print(f"Ideal generated by 3 in Z_6: {ideal_from_3}")
```

#### 4. 唯一分解環

**唯一分解環（UFD）**是指在這個環中，每個元素都可以唯一地分解為不可約元素的乘積，且這個分解是唯一的。

我們來實現一個簡單的素因數分解函數，來展示唯一分解的基本概念。

```python
def factorize(n):
    factors = []
    for i in range(2, n + 1):
        while n % i == 0:
            factors.append(i)
            n //= i
    return factors

# 素因數分解示例
factors_12 = factorize(12)
print(f"Prime factorization of 12: {factors_12}")  # 12 = 2 * 2 * 3
```

---

### 總結

這段程式碼展示了環的基本定義、理想、商環、主理想環和唯一分解環的簡單實現。這些基本結構對於理解代數結構和進一步的數學研究具有重要意義。