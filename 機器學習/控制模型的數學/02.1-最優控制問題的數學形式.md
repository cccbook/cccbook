### 02.1 最優控制問題的數學形式

最優控制問題是一個關於尋找最佳控制策略的問題，這些策略將使系統在給定的條件下達到預定的目標，並且最小化或最大化某個特定的性能指標。最優控制的核心是利用數學方法描述系統的動態，並求解一個優化問題，這通常涉及到最小化或最大化一個性能指標（目標函數），並在此過程中滿足系統的約束條件。

最優控制問題可以通過以下數學形式來表述：

#### 1. 系統的動態方程

假設系統的動態可以用以下狀態空間模型來描述：

\[
\dot{x}(t) = f(x(t), u(t), t)
\]

其中：
- \( x(t) \) 是系統的狀態向量，通常表示系統的內部變數或情況，隨時間變化。
- \( u(t) \) 是控制輸入向量，是我們要設計的控制信號，通常是系統的外部操作或指令。
- \( f(x(t), u(t), t) \) 是描述系統動態的函數，它表明了狀態 \( x(t) \) 隨時間變化的速率。

#### 2. 性能指標（目標函數）

最優控制問題通常要求最小化或最大化一個性能指標，該指標通常是對系統過程中狀態和控制輸入的加權累積。這個目標函數常用如下形式表示：

\[
J = \int_{t_0}^{t_f} L(x(t), u(t), t) \, dt + \Phi(x(t_f))
\]

其中：
- \( J \) 是性能指標，表示要最小化或最大化的量。
- \( L(x(t), u(t), t) \) 是稱為「Lagrange函數」的即時成本函數，描述了在每一時刻 \( t \) 系統狀態和控制輸入所帶來的成本。
- \( \Phi(x(t_f)) \) 是末端成本，通常是系統在終止時刻 \( t_f \) 的狀態所產生的成本。
- \( t_0 \) 和 \( t_f \) 分別是問題的起始和終止時間。

#### 3. 約束條件

最優控制問題通常會包括系統的動態約束，以及可能的控制和狀態約束。這些約束通常包括：

- **狀態約束**：系統的狀態 \( x(t) \) 可能受到某些物理限制或操作規範的約束，表示為：

\[
x(t) \in \mathcal{X}, \quad \forall t \in [t_0, t_f]
\]

其中 \( \mathcal{X} \) 是允許的狀態空間。

- **控制約束**：控制輸入 \( u(t) \) 可能也會受到限制，例如，某些控制輸入的範圍可以有限制，表示為：

\[
u(t) \in \mathcal{U}, \quad \forall t \in [t_0, t_f]
\]

其中 \( \mathcal{U} \) 是允許的控制空間。

#### 4. 最優控制問題的總體數學形式

將上述元素結合起來，最優控制問題可以寫成以下的數學優化問題：

\[
\begin{aligned}
\text{minimize} \quad & J = \int_{t_0}^{t_f} L(x(t), u(t), t) \, dt + \Phi(x(t_f)) \\
\text{subject to} \quad & \dot{x}(t) = f(x(t), u(t), t), \quad x(t_0) = x_0 \\
& x(t) \in \mathcal{X}, \quad u(t) \in \mathcal{U}, \quad \forall t \in [t_0, t_f]
\end{aligned}
\]

其中：
- \( J \) 是目標函數，表示最優控制所需最小化或最大化的成本。
- \( \dot{x}(t) = f(x(t), u(t), t) \) 是系統的動態方程，描述了狀態隨時間的變化。
- \( x(t_0) = x_0 \) 是初始狀態條件，通常是已知的。
- \( x(t) \in \mathcal{X} \) 和 \( u(t) \in \mathcal{U} \) 是系統的狀態和控制輸入的約束。

#### 5. 解最優控制問題

解這樣的最優控制問題通常需要求解以下幾個方面：
1. **最優性條件**：這通常通過變分法或哈密頓-雅可比-貝爾曼（HJB）方程來求解。最優性條件是對最優控制器的設計至關重要的數學條件。
2. **數值求解方法**：由於大多數實際問題中系統的動態方程和目標函數往往非常複雜，無法解析解出最優控制，通常使用數值優化方法來求解，例如動態規劃、直接法或間接法。

#### 6. 最優控制的應用

最優控制問題的應用範圍非常廣泛，包括：
- **機器人控制**：確保機器人以最有效的方式達到目標位置或任務。
- **自駕車**：設計最優的行駛策略，從而使車輛以最小的能量消耗完成行駛。
- **航天工程**：如火箭發射和航天器導航，通過最優控制方法確保航天器以最低的燃料消耗完成任務。
- **經濟學與資源管理**：如企業的生產與庫存管理問題，通過最優控制方法進行資源配置和成本最小化。

---

總結來說，最優控制問題的數學形式主要由系統的動態方程、性能指標、以及相關的約束條件所組成。這些組件共同構成了優化問題，並通過數學方法求解，以實現最優的控制策略。