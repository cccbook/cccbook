### **5.3 向量空間模型的度量**

在自然語言處理（NLP）中，向量空間模型（Vector Space Model, VSM）被廣泛用來表示單詞、句子甚至文檔。這種模型將每個單詞或文檔表示為一個高維向量，其中每個維度對應於一個語言特徵（如單詞）。在向量空間中，單詞和文檔的語義關聯可以通過計算向量之間的**度量**來度量。這些度量可以幫助我們量化不同語言實體之間的相似性、距離和關聯性。

本節將介紹一些常見的向量空間度量，這些度量廣泛應用於詞嵌入、文檔檢索和語義分析等任務。

#### **5.3.1 歐氏距離（Euclidean Distance）**

歐氏距離是最常見的度量方法之一，它用來衡量兩個向量在多維空間中的直線距離。對於兩個向量  $`\mathbf{v}_1`$  和  $`\mathbf{v}_2`$ ，其歐氏距離定義為：


```math
d(\mathbf{v}_1, \mathbf{v}_2) = \sqrt{\sum_{i=1}^{d} (v_{1,i} - v_{2,i})^2}
```


其中， $`v_{1,i}`$  和  $`v_{2,i}`$  分別是向量  $`\mathbf{v}_1`$  和  $`\mathbf{v}_2`$  在第  $`i`$  維度上的分量， $`d`$  是向量的維度。

**特點：**
- 歐氏距離對於數據的尺度變化比較敏感，當數據特徵的範圍差異較大時，歐氏距離的計算結果可能會受到較大影響。
- 這種度量適合用於一般的距離度量，但不一定能夠捕捉到向量之間的語義相似性，特別是當數據具有稀疏性時。

#### **5.3.2 余弦相似度（Cosine Similarity）**

余弦相似度是衡量兩個向量相似度的常用方法，尤其適用於文本表示的向量。在向量空間中，余弦相似度計算的是兩個向量的夾角大小，而不是它們的直線距離。因此，兩個向量的角度越小，表示它們的語義越相似。

對於兩個向量  $`\mathbf{v}_1`$  和  $`\mathbf{v}_2`$ ，其余弦相似度定義為：


```math
\text{cosine similarity}(\mathbf{v}_1, \mathbf{v}_2) = \frac{\mathbf{v}_1 \cdot \mathbf{v}_2}{\|\mathbf{v}_1\| \|\mathbf{v}_2\|}
```


其中， $`\mathbf{v}_1 \cdot \mathbf{v}_2`$  是兩個向量的點積， $`\|\mathbf{v}_1\|`$  和  $`\|\mathbf{v}_2\|`$  分別是向量的歐氏範數（即向量的長度）。

**特點：**
- 余弦相似度對向量的長度不敏感，它只關注向量的方向，因此它在文本分析中非常有效，因為文本的長度往往不是關鍵，語義上的相似性才是。
- 余弦相似度的範圍是  $`[-1, 1]`$ ，其中 1 表示兩個向量完全相同，0 表示它們正交，-1 表示完全相反。

#### **5.3.3 曼哈頓距離（Manhattan Distance）**

曼哈頓距離，又稱為**城市區域距離**，是另一種衡量兩個向量之間距離的方法。它計算的是兩個向量在各個維度上差值的絕對值的總和。對於兩個向量  $`\mathbf{v}_1`$  和  $`\mathbf{v}_2`$ ，其曼哈頓距離定義為：


```math
d_{\text{Manhattan}}(\mathbf{v}_1, \mathbf{v}_2) = \sum_{i=1}^{d} |v_{1,i} - v_{2,i}|
```


**特點：**
- 曼哈頓距離在處理稀疏數據或具有稀疏特徵的問題時表現較好，因為它不會對長度較大的向量進行過度放大。
- 當數據的特徵具有強烈的稀疏性或在一些維度上具有明顯的差異時，曼哈頓距離能夠提供穩定的相似度度量。

#### **5.3.4 馬氏距離（Mahalanobis Distance）**

馬氏距離是一種考慮了數據分佈的距離度量方法，它可以衡量兩個向量之間的相似性，並且能夠考慮各維度之間的相關性。對於兩個向量  $`\mathbf{v}_1`$  和  $`\mathbf{v}_2`$ ，其馬氏距離定義為：


```math
d_{\text{Mahalanobis}}(\mathbf{v}_1, \mathbf{v}_2) = \sqrt{(\mathbf{v}_1 - \mathbf{v}_2)^\top \mathbf{\Sigma}^{-1} (\mathbf{v}_1 - \mathbf{v}_2)}
```


其中， $`\mathbf{\Sigma}`$  是數據的協方差矩陣，反映了數據各個維度之間的相關性。

**特點：**
- 馬氏距離的最大優勢在於它能夠考慮數據的協方差結構，因此當數據的維度之間具有相關性時，馬氏距離可以提供比歐氏距離或曼哈頓距離更準確的相似度度量。
- 它通常用於統計學和模式識別領域，尤其是在有明確數據分佈假設的情況下。

#### **5.3.5 Jaccard相似度（Jaccard Similarity）**

Jaccard相似度主要用於計算兩個集合的相似度，適用於稀疏數據和集合型數據。在 NLP 中，它經常用於計算兩個詞彙集合之間的相似度。例如，當我們將單詞或文檔表示為詞集時，Jaccard相似度可以幫助我們衡量它們的重疊程度。

對於兩個集合  $`A`$  和  $`B`$ ，其 Jaccard 相似度定義為：


```math
J(A, B) = \frac{|A \cap B|}{|A \cup B|}
```


**特點：**
- Jaccard 相似度衡量的是兩個集合之間的重疊程度。當集合 A 和 B 具有較高的重疊時，Jaccard 相似度值會較大，反之則較小。
- 它適用於集合型數據，尤其是當數據稀疏時，Jaccard 相似度能夠有效衡量相似性。

#### **5.3.6 小結**

向量空間模型的度量是語義相似性分析中不可或缺的工具。根據具體應用的需求，我們可以選擇適合的度量方法來進行文本的相似性度量或比較。歐氏距離、余弦相似度、曼哈頓距離、馬氏距離和 Jaccard 相似度等都是常用的度量方法，各自有不同的適用場景。在實際應用中，選擇合適的度量可以顯著提高模型的效果。