### 02.3 動態規劃與最短路徑

#### 1. 動態規劃（Dynamic Programming, DP）

動態規劃是一種解決最優化問題的方法，尤其適用於具有重疊子問題和最優子結構的問題。它通過將大問題分解為若干個較小的子問題，並將這些子問題的解保存起來，以避免重複計算，從而提高計算效率。

動態規劃的核心思想是將問題的解構建為一個遞歸結構，其中每個子問題的解都依賴於其前驅問題的解。通過自底向上的計算，動態規劃可以有效地計算最優解。

#### 1.1 動態規劃的基本步驟

1. **問題拆解**：將原始問題拆分成一系列子問題。
2. **子問題解**：以遞歸的方式解決每個子問題，並將結果保存（通常用表格或矩陣存儲）。
3. **最優子結構**：每個子問題的解可以通過對先前子問題解的操作來得到，這保證了最優解的結構。
4. **重複子問題**：如果子問題重複，則避免重複計算，直接使用已經保存的解。

#### 1.2 動態規劃的應用

動態規劃廣泛應用於許多領域，特別是在最優控制、運籌學、計算機科學和人工智慧中。以下是一些經典的動態規劃應用：

- **背包問題**：給定一個背包的容量和一系列物品的重量與價值，求能夠放入背包的最大價值。這是一個經典的動態規劃問題，通常通過表格保存每個容量下的最優解。
- **最短路徑問題**：在一個帶權圖中，求從某一點到另一點的最短路徑。
- **最長公共子序列問題**：給定兩個序列，找出它們的最長公共子序列。

#### 2. 最短路徑問題（Shortest Path Problem）

最短路徑問題是圖論中的一個重要問題，目的是尋找從圖中的一個起點到終點的最短路徑。在實際應用中，最短路徑問題經常出現在路由選擇、交通管理、網路設計等領域。

最短路徑問題的目標是找到一條從起點到終點的路徑，使得該路徑上的邊的總權重（或者總距離）最小。根據圖的不同特性，最短路徑問題可以有不同的解法。

#### 2.1 Dijkstra算法

Dijkstra算法是一種常見的求解單源最短路徑的算法，適用於圖中的所有邊的權重均為非負數的情況。該算法的核心思想是貪心選擇法，即每次選擇當前距離最短的點，並更新其相鄰點的最短距離。

算法步驟：
1. 初始化：設置起點到所有節點的距離為無窮大，起點到自己的距離為0。
2. 標記所有節點為未訪問。
3. 從起點開始，逐一選擇最短距離的節點，並更新其相鄰節點的距離。
4. 重複這一過程，直到所有節點都被訪問。

Dijkstra算法的時間複雜度為 \( O(V^2) \)，其中 \( V \) 是圖中的節點數。如果使用優先隊列進行優化，則時間複雜度可以降到 \( O((V+E) \log V) \)，其中 \( E \) 是圖中的邊數。

#### 2.2 Bellman-Ford算法

Bellman-Ford算法是一種較為通用的最短路徑算法，適用於圖中包含負邊權的情況。儘管Dijkstra算法在處理非負邊權圖時速度較快，但Bellman-Ford算法可以處理帶有負邊權的圖。

算法步驟：
1. 初始化：設置起點到所有節點的距離為無窮大，起點到自己的距離為0。
2. 對所有的邊進行 \( V-1 \) 次鬆弛操作，每次對每條邊進行更新：
   \[
   \text{如果} \quad d(u) + w(u, v) < d(v)
   \]
   則更新 \( d(v) = d(u) + w(u, v) \)，其中 \( w(u, v) \) 是邊的權重，\( d(u) \) 和 \( d(v) \) 分別是節點 \( u \) 和節點 \( v \) 的最短距離。
3. 最後，檢查是否存在負權環路，如果存在，則報告有負權環路。

Bellman-Ford算法的時間複雜度為 \( O(VE) \)，其中 \( V \) 是節點數，\( E \) 是邊數。

#### 2.3 動態規劃與最短路徑的關聯

動態規劃與最短路徑問題密切相關。在最短路徑問題中，最優子結構的概念非常重要，這意味著最短路徑的解可以由其子問題的解構建而成。這正是動態規劃方法的核心思想。

具體來說，對於最短路徑問題，我們可以將整個路徑分解為一系列子路徑，並對每個子路徑進行最短距離的計算。這樣的分解和合併過程正是動態規劃的基本思想。

#### 2.4 動態規劃求解最短路徑的經典方法

除了Dijkstra和Bellman-Ford算法外，動態規劃還可以用於解決有向圖中的最短路徑問題。例如，Floyd-Warshall算法是一種基於動態規劃的最短路徑算法，它可以解決圖中所有節點對的最短路徑問題。

Floyd-Warshall算法的基本思想是逐步考慮所有可能的中介節點，並更新每對節點之間的最短路徑。其算法步驟如下：

1. 初始化：對於每對節點 \( (i, j) \)，設置最短路徑為圖中的邊權，若沒有邊則為無窮大。
2. 對每個中介節點 \( k \) 進行更新：
   \[
   d(i, j) = \min(d(i, j), d(i, k) + d(k, j))
   \]
3. 重複此過程，直到所有中介節點都被考慮。

Floyd-Warshall算法的時間複雜度為 \( O(V^3) \)，其中 \( V \) 是節點數。

#### 3. 應用實例

- **導航系統**：在現實生活中，最短路徑問題常常出現在導航系統中，用於計算從起點到終點的最短路徑，例如在城市道路或地鐵系統中的路徑規劃。
- **網絡路由**：在計算機網絡中，最短路徑問題用於決定資料包的傳輸路徑，保證數據能夠以最低延遲和成本傳輸。

#### 總結

動態規劃與最短路徑問題在優化控制和運籌學中扮演了重要角色。動態規劃的基本思想是將大問題分解為較小的子問題並逐步求解，而最短路徑問題則專注於在圖中尋找從起點到終點的最短路徑。這些技術在許多應用領域中有著廣泛的應用，尤其是在交通導航、網絡路由等問題中，發揮著關鍵作用。